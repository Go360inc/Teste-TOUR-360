<html>
<head>
<style>
html, body {
height: 100%;
overflow: hidden;
}

body{ background:black; padding:0; margin:0}
</style>

<meta name="description" content="Cable Center PhotoSpheres">
<script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>   
<script src="js/aframe-event-set-component.min.js"></script> 
<script>
AFRAME.registerComponent('alpha-test', {
  dependencies: ['material'],

  init: function () {
    var material = this.el.getObject3D('mesh').material;
    material.alphaTest = 0.5;
    material.needsUpdate = true;
  }
});
</script>

</head>
<body>
<a-scene cursor="rayOrigin: mouse" vr-mode-ui="enabled: false"  fog="type: linear; color: #537cab; far: 1200; near: 10">

<a-entity camera id="mycamera" position="0 0 20" look-controls wasd-controls="fly: true">
     <!--- <a-cursor fuse="true" max-distance= "30" timeout="500" color="white"></a-cursor> --->
</a-entity> 

<!--- was

<a-camera id="mycamera" position="0 0 20" look-controls wasd-controls="fly: true">
</a-camera> 
     --->


<a-image id="logo" src="img/cablecenter_logo.png" position="-2 14 0" height=".5" width="2" scale="10 10 10" material="transparent: true; opacity: 0.7" fog="false">
>
</a-image>

<a-text position="0 -1.5 17" color="#000" align="center" value="Click spheres to go inside!\nClick and drag to move and look around."></a-text>


    <a-light type="ambient" color="#fff"></a-light>
    <a-light type="hemisphere" groundColor="#ddd;" color="#fff" intensity="1.0" position="0 10 5" ></a-light>

</a-box>
</a-entity>

	` <!--- Environment PhotoSphere --->

  <a-entity 
            geometry="primitive:sphere;radius:1000;segmentsWidth:64;segmentsHeight:64"
            material="shader:flat;color:#fdf;fog:true; src:img/outside.jpg"
            scale="-1 1 1" 
            rotation="0 -60 0" id="photosphere">
  </a-entity>

	` <!--- Great Hall bubble --->

  <a-entity 
            geometry="primitive:sphere;radius:10;segmentsWidth:64;segmentsHeight:64"
            material="shader:flat;color:#ffffff;fog:false; src:img/firstfloor1a.jpg"
            scale="-1 1 1"
            rotation="0 -60 0" position="0 0 -20" id="photosphere"
	       event-set__1="_event: click; _target: #mycamera; position: 0 0 -18;"
	       event-set__2="_event: click; _target: #secondfloor1; visible: true;"
 	       event-set__3="_event: mouseenter; material.color: powderblue;"
    	       event-set__4="_event: mouseleave; material.color: white;"
	       event-set__5="_event: click; _target: #greathallExit; visible: true;"
	       event-set__6="_event: click; _target: #rightHand; position: .1 -0.25 -18.18;">
	<a-text id="greathallTxt" 
			position="0 12 0"  
			rotation="0 120 0" color="#000" 
			align="center" 
			value="The Great Hall" 
			width="4" 
			scale="15 15 15" 
			side="double"
			visible="true"></a-text>

       <a-animation attribute="rotation"
                       dur="5000"
                       direction="alternate"
                       to="0 360 0"
                       repeat="1">
           </a-animation>  
     <a-animation attribute="rotation"
                       begin="click"
                       dur="20000"
                       easing="linear"
                       to="0 360 0">
           </a-animation>  
  </a-entity>

				<!--- Great Hall Exit Sign --->

<a-box id="greathallExit" color="#9d8752" width="1" height="0.4" depth="0.01" metalness: 0.75" position="4 1 -22" rotation="0 -20 0" visible="false" material="opacity:0.5"
		event-set__1="_event: click; _target: #mycamera; position: -0.8 -1 6.7;"
		event-set__2="_event: click; _target: #greathallExit; visible: false;"
		event-set__3="_event: click; _target: #rightHand; position: -0.5 -1.15 6.52;"
		event-set__4="_event: mouseenter; material.opacity:1.0; material.color: white;"
    	     	event-set__5="_event: mouseleave; material.color: #9d8752; material.opacity:0.5;">
		<a-text position="0.020 0.0 0.01" color="#000" align="center" value="Exit" width="3.5"></a-text>
		</a-box>


				<!--- Malone Theater bubble --->
  <a-entity 
            geometry="primitive:sphere;radius:10;segmentsWidth:64;segmentsHeight:64"
            material="shader:flat;color:#ffffff;fog:false; src:img/malone-theater.jpg"
            scale="-1 1 1" rotation="0 -60 0" position="-30 0 -15" id="photosphere"
		  event-set__1="_event: click; _target: #mycamera; position: -30 0 -12;"
		  event-set__2="_event: click; _target: #theaterExit; visible: true;"
		  event-set__3="_event: mouseenter; material.color: powderblue;"
    	       	  event-set__4="_event: mouseleave; material.color: white;">
		<a-text id="maloneTxt" 
			position="0 12 0"  
			rotation="0 80 0" color="#000" 
			align="center" 
			value="The Malone Theater" 
			width="4" 
			scale="15 15 15" 
			visible="true"></a-text>

<a-animation attribute="rotation"
                       begin="click"
                       dur="20000"
                       easing="linear"
                       to="0 360 0">
           </a-animation>  

  </a-entity>
				<!--- Malone Theater Exit Sign --->

<a-box id="theaterExit" color="#9d8752" width="1" height="0.4" depth="0.01" metalness: 0.75" position="-30 1 -15" rotation="0 0 0" visible="false" material="opacity:0.5"
		event-set__1="_event: click; _target: #mycamera; position: -1 0 7;"
		event-set__2="_event: click; _target: #theaterExit; visible: true;"
		event-set__3="_event: mouseenter; material.opacity:1.0; material.color: white;"
    	     	event-set__4="_event: mouseleave; material.color: #9d8752; material.opacity:0.5;">
		<a-text position="0.020 0.0 0.01" color="#000" align="center" value="Exit" width="3.5"></a-text>
		</a-box>

				<!--- Barco Library bubble --->

  <a-entity 
            geometry="primitive:sphere;radius:10;segmentsWidth:64;segmentsHeight:64"
            material="shader:flat;color:#ffffff;fog:false; src:img/barcolibrary1.jpg"
            scale="-1 1 1"
            rotation="0 0 0" position="35 0 -5" id="barcolibrary"
			event-set__1="_event: click; _target: #mycamera; position: 35 0 -8;"
		  	event-set__2="_event: mouseenter; material.color: powderblue;"
    	       	event-set__3="_event: mouseleave; material.color: white;">
		<a-text id="barco1Txt" 
			position="0 12 0"  
			rotation="0 -140 0" color="#000" 
			align="center" 
			value="The Barco Library" 
			width="4" 
			scale="15 15 15" 
			visible="true"></a-text>

			<a-text id="barcoTxt" position="0 8 0" color="#fff" align="center" value="The Barco Library" width="2" visible="false"></a-text>
  </a-entity>

				<!--- Barco Library Exit Sign --->

<a-box id="barcoExit" color="#9d8752" width="1" height="0.4" depth="0.01" metalness: 0.75" position="35 1 3" rotation="0 -180 0" visible="true"
		event-set__1="_event: click; _target: #mycamera; position: -1 0 7;"
		event-set__2="_event: click; _target: #barcoExit; visible: true;">
		<a-text position="0.020 0.0 0.01" color="#000" align="center" value="Exit" width="3.5"></a-text>
		</a-box>

				
				<!--- Archives bubble that goes to lower level --->

<a-entity id="archives1"
            geometry="primitive:sphere;radius:10;segmentsWidth:64;segmentsHeight:64"
            material="shader:flat;color:#ffffff;fog:false; src:img/archives1.jpg"
            scale="-1 1 1"
            rotation="0 60 0" position="30 0 40"
		  event-set__1="_event: click; _target: #mycamera; position: 30 0 40;"
		  event-set__2="_event: click; _target: #archiveExit; visible: true;"
		  event-set__3="_event: mouseenter; _target: #archiveTxt; visible: true;"
		  event-set__4="_event: mouseleave; _target: #archiveTxt; visible: false;"
		  event-set__5="_event: mouseenter; material.color: powderblue;"
    	       	  event-set__6="_event: mouseleave; material.color: white;">
			<a-text id="archiveTxt" 
			position="0 14 0"  
			rotation="0 0 0" color="#000" 
			align="center" 
			value="The Edward D. Breen\nTechnical Archives" 
			width="4" 
			scale="15 15 15" 
			visible="false"></a-text>
</a-entity>

			<!--- Archives Exit Sign Note: Can't place within sphere or click won't work --->

		<a-box id="archiveExit" color="#9d8752" width="1" height="0.4" depth="0.01" metalness: 0.75" position="30 0 45" rotation="0 180 0" visible="false"
		event-set__1="_event: click; _target: #mycamera; position: -1 0 7;">
		<a-text position="0.020 0.0 0.01" color="#000" align="center" value="Exit" width="3.5"></a-text>
		</a-box>

<a-plane rotation="-90 0 0" width="400" height="400" color="#3b4a5f" material="opacity:0"></a-plane>

			
 <a-sky color="#fff"></a-sky>
</a-scene>

</body>
</html>